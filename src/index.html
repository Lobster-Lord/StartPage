<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="StartPage">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>New Terminal Tab</title>
    <link href="https://thecommieaxolotl.github.io/StartPage/src/styles.css" rel="stylesheet">
     <link href="https://thecommieaxolotl.github.io/StartPage/src/nordtheme.css" rel="stylesheet">
    
    <script>
        function setup() {
            document.getElementById("searchbar").focus()
  
            const Header = document.getElementById("Head")
            const d = new Date();
            const [date, time] = d.toLocaleString().split(" ");
            Header.innerHTML=`It's ${time.slice(0, time.length - 3)} on ${date.replace(",", "")}`;
            
        }
        
         function focusInput() {
            document.getElementById("searchbar").focus()
        }
        
    </script>
</head>

<body id="body" onload="setup()" onclick="focusInput()">
  <p class="Head" id="Head" >user@home <span id="Tilda">&gt;</span> newtab</p>
    <p class="Subview">▲ <span id="Tilda">~ </span> cd tabs/firefox </p>
    <p class="Subview">▲ <span id="Tilda">~ </span> ls </p>
        <a class="Link1" href="https://reddit.com">reddit</a>
        <a class="Link1" href="https://github.com">github</a>
        <a class="Link1" href="https://stackoverflow.com">stack</a>
    <div></div>
    <form id="form">
    <a class="Subview" >▲ <span id="Tilda">~ </span> </a>
       <input class="Input" autocomplete="off" id="searchbar" ></input>
       <button class="SearchButton" type="enter" action="search()">e</button>
    </form>
    <p class="NotFound" id="aboutText" ></p>
    <script>
      const h = document.getElementsByClassName('Head');
      const s = document.getElementsByClassName('Subview');
      const t = document.getElementById('aboutText');
      const f = document.getElementById('form');
      const q = document.getElementById('searchbar');
      const ddg = 'https://www.duckduckgo.com/?q=';
      const www = 'https://www.';
      const input = q.value.toLocaleString();

      function submitted(event, input) {
          
         if (q.value.includes("about") == true) {
             event.preventDefault();
              t.innerHTML='made by TheCommieAxolotl';
          }
          
          if (q.value.includes("open") == true) {
              const url = www + q.value.replace("open ", "");
              const win = window.open(url, '_blank');
              window.close('https://thecommieaxolotl.github.io/StartPage/src/index.html');
              win.focus();
          }
          
          if (q.value.includes("search") == true) {        
              const url = ddg + q.value.replace("search", "");
              const win = window.open(url, '_blank');
              window.close('https://thecommieaxolotl.github.io/StartPage/src/index.html');
              win.focus();
          }
          
          if (q.value.includes("about", "open", "search") == false (input)) {
              event.preventDefault();
              t.innerHTML='command not found ${input}';
              q.select();
          }
          
          if (q.value.includes("theme") == true) {
              event.preventDefault();
              if (q.value.includes("nord") == true) {
                localStorage.setItem(LS_THEME_KEY, nord);
              }
          }
          
      }

      f.addEventListener('submit', submitted);
    </script>
</body>

</html>
